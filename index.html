<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Shadow Terminal</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      font-family: monospace;
      height: 100%;
    }

    canvas#matrixCanvas {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
    }

    #console {
      position: relative;
      z-index: 1;
      padding: 20px;
      white-space: pre;
      font-size: 16px;
      color: #00ff66;
      height: 100vh;
      overflow-y: auto;
    }

  </style>
</head>
<body>
  <canvas id="matrixCanvas"></canvas>
  <div id="console"></div>

  <audio id="buzz" loop autoplay muted>
    <source src="https://www.soundjay.com/button/sounds/beep-01a.mp3" type="audio/mpeg">
  </audio>

  <script>
    const canvas = document.getElementById('matrixCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const letters = "アカサタナハマヤラガザダバABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split("");
    const fontSize = 14;
    const columns = canvas.width / fontSize;
    const drops = Array.from({ length: columns }, () => Math.random() * canvas.height);

    const colors = ["#00ff66", "#ff0066", "#00ccff", "#ffcc00", "#66ff66"];  // ألوان عشوائية
    const randomColor = colors[Math.floor(Math.random() * colors.length)];
    const backgroundColors = ["#1b1b1b", "#0a0a0a", "#141414", "#333333", "#222222"];  // ألوان خلفية عشوائية
    const randomBackgroundColor = backgroundColors[Math.floor(Math.random() * backgroundColors.length)];

    const fakeMessages = [
      "Initializing ShadowProtocol...",
      "Spoofing User-Agent: Edge/122.0.0",
      "Faking GPS: Cairo, Egypt",
      "Hooking navigator.webdriver = false",
      "Fingerprint obfuscation initialized.",
      "Masking WebGL Parameters...",
      "Bypassing TLS SNI check...",
      "Encoding canvas fingerprint...",
      "Patching DOM anomalies...",
      "Spoofing timezone: Africa/Cairo",
      "Overriding language headers...",
      "Collecting session cookies...",
      "Injecting cloaking script...",
      "Encrypting payload with AES-256...",
      "Routing through ShadowProxy v3.4...",
      "Scanning Discord endpoints...",
      "Generating quantum-safe token...",
      "Secure link injection prepared...",
    ];

    const discordLinks = [
      "aHR0cHM6Ly9kaXNjb3JkLmdnL3lkWHRmQmRhZzY=",
      "aHR0cHM6Ly9kaXNjb3JkLmdnL2JKVWFBWUdld0Q=",
      "aHR0cHM6Ly9kaXNjb3JkLmdnL1VLVzQ5V0t2M3o=",
      "aHR0cHM6Ly9kaXNjb3JkLmdnLzNySHNINzJoYWI=",
      "aHR0cHM6Ly9kaXNjb3JkLmdnL2pmc2dBODN6WGg=",
      "aHR0cHM6Ly9kaXNjb3JkLmdnLzV5ajU4Y25na3g=",
      "aHR0cHM6Ly9kaXNjb3JkLmdnL21KRmJEbWFtdmo=",
      "aHR0cHM6Ly9kaXNjb3JkLmdnL21LbWo5ZVVkM3g="
    ];

    function decodeBase64(b64) {
      return atob(b64);
    }

    function logLine(text) {
      const consoleEl = document.getElementById('console');
      consoleEl.textContent += text + "\n";
      consoleEl.scrollTop = consoleEl.scrollHeight;
    }

    function getVisitInfo() {
      let visits = parseInt(localStorage.getItem("visits") || "0") + 1;
      localStorage.setItem("visits", visits);
      return visits;
    }

    function startConsoleSequence() {
      const visitCount = getVisitInfo();
      const now = new Date();
      const seed = now.getTime() + visitCount;
      const location = ["Cairo", "Alexandria", "Aswan", "Marsamatrouh", "Tanta"][Math.floor(Math.random() * 5)];

      logLine(`> Session Time: ${now.toISOString()}`);
      logLine(`> Visit Count: ${visitCount}`);
      logLine(`> Location spoofed: ${location}`);
      logLine(`> Seeding secure entropy key: ${seed}`);
      logLine(`> Establishing secure tunnel...`);

      let i = 0;
      const interval = setInterval(() => {
        const msg = fakeMessages[Math.floor(Math.random() * fakeMessages.length)];
        logLine("[*] " + msg);
        i++;
        if (i > 12 + Math.floor(Math.random() * 4)) {
          clearInterval(interval);
          setTimeout(() => {
            const link = decodeBase64(discordLinks[Math.floor(Math.random() * discordLinks.length)]);
            logLine("> Redirecting to secure Discord link...");
            window.location.href = link;
          }, 300);
        }
      }, 100);
    }

    // Start sequence
    startConsoleSequence();

    // Resize canvas
    window.addEventListener('resize', () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });

    // Optional: Enable sound on click
    document.body.addEventListener("click", () => {
      document.getElementById("buzz").muted = false;
    });

    // Apply random background color
    document.body.style.backgroundColor = randomBackgroundColor;
    document.getElementById('console').style.color = randomColor;

    // Apply random font size for console text
    const fontSizeOptions = [14, 16, 18, 20, 22];
    const randomFontSize = fontSizeOptions[Math.floor(Math.random() * fontSizeOptions.length)];
    document.getElementById('console').style.fontSize = randomFontSize + "px";

    // Add random behavior for matrix effect (speed, font size)
    const fontSizeMatrix = Math.floor(Math.random() * 14) + 12;
    const columns = canvas.width / fontSizeMatrix;
    const drops = Array.from({ length: columns }, () => Math.random() * canvas.height);

    function drawMatrix() {
      ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = randomColor;
      ctx.font = `${fontSizeMatrix}px monospace`;

      for (let i = 0; i < drops.length; i++) {
        const text = letters[Math.floor(Math.random() * letters.length)];
        ctx.fillText(text, i * fontSizeMatrix, drops[i] * fontSizeMatrix);
        if (drops[i] * fontSizeMatrix > canvas.height && Math.random() > 0.975) {
          drops[i] = 0;
        }
        drops[i]++;
      }

      requestAnimationFrame(drawMatrix);
    }

    drawMatrix();
  </script>
</body>
</html>
